{"version":3,"file":"js/301.c9442b78.js","mappings":"meAoCA,MAAMA,GAASC,EAAAA,EAAAA,IAAI,MAEbC,GAAWC,EAAAA,EAAAA,IAAS,CACxBC,SAAU,GACVC,SAAU,KAGNC,EAAQ,CACZF,SAAU,CACR,CAAEG,UAAU,EAAMC,QAAS,OAAQC,QAAS,6BAE9CJ,SAAU,CACR,CAAEE,UAAU,EAAMC,QAAS,OAAQC,QAAS,4BAC5C,CAACC,IAAI,EAAGC,IAAI,EAAGH,QAAQ,OAAQC,QAAS,iCAItCG,EAAS,KACbZ,EAASa,MAAMC,UAAUC,IACnBA,GACFC,GACF,GACA,EAGEA,EAAcC,UAClB,MAAMC,QAAYC,EAAAA,EAAAA,IAAS,CAACC,KAAMlB,EAASE,SAAUC,SAAUH,EAASG,WACvD,IAAda,GAAKG,MAAcH,GAAKT,QAAQa,QAAQ,sBAAwB,IACjEC,EAAAA,EAAAA,KAAY,cACZC,EAAAA,EAAAA,IAAU,CACRf,QAAQS,EAAIT,QACZgB,KAAM,aAGPP,GAAKQ,QACNC,aAAaC,QAAQ,QAASV,GAAKQ,QACnCF,EAAAA,EAAAA,IAAU,CACRf,QAAS,qBACTgB,KAAM,YAERF,EAAAA,EAAAA,KAAY,SACd,EAGIM,EAAM,KACVN,EAAAA,EAAAA,KAAY,YAAY,E,0wCC3E1B,MAAMO,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://courseproject/./src/views/Login.vue","webpack://courseproject/./src/views/Login.vue?240b"],"sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"bgp\"></div>\n    <div class=\"login_container\">\n      <h1>Course Management System</h1>\n      <el-form\n        class=\"login_form\"\n        :model=\"userInfo\"\n        :rules=\"rules\"\n        @keyup.enter=\"onLogin\"\n        ref=\"ref_form\"\n      >\n        <el-form-item prop=\"userName\">\n          <el-input type=\"text\" placeholder=\"Please enter username\" v-model.trim=\"userInfo.userName\" autocomplete=\"off\"\n            ><template #prepend\n              ><el-icon><User /></el-icon></template\n          ></el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input type=\"password\" placeholder=\"Please enter password\" v-model.trim=\"userInfo.password\" autocomplete=\"new-password\"\n            ><template #prepend\n              ><el-icon><Key /></el-icon></template\n          ></el-input>\n        </el-form-item>\n        <el-button type=\"primary\" class=\"login_submit\" @click=\"onLogin\">Login</el-button>\n        <div class=\"login_register\" @click=\"toGo\">Register</div>\n      </el-form>\n    </div>\n  </div>\n</template>\n<script setup>\nimport router from \"../router/index\";\nimport { ElMessage } from \"element-plus\";\nimport { reactive, ref } from \"vue\";\nimport { getLogin } from \"../api/index\";\n\nconst ref_form=ref(null)\n\nconst userInfo = reactive({\n  userName: \"\",\n  password: \"\",\n});\n\nconst rules = {\n  userName: [\n    { required: true, trigger: \"blur\", message: \"username cannot be empty\" },\n  ],\n  password: [\n    { required: true, trigger: \"blur\", message: \"password cannot be empty\" },\n    {min:3, max:6, trigger:\"blur\", message: \"password length between 3-6\"}\n  ],\n};\n\nconst onLogin =()=> {\n  ref_form.value.validate((val)=> {\n    if (val) {\n      getLoginData()\n    }\n  })\n}\n\nconst getLoginData =async ()=> {\n  const res = await getLogin({name: userInfo.userName, password: userInfo.password})\n  if(res?.code === 1 && res?.message.indexof(\"account not exist\") >= 0) {\n    router.push('/register')\n    ElMessage({\n      message:res.message,\n      type: 'warning',\n    })\n  }\n  if(res?.token) {\n    localStorage.setItem('token', res?.token)\n    ElMessage({\n      message: \"login successfully\",\n      type: \"success\",\n    });\n    router.push('/home')\n  }\n}\n\nconst toGo =()=> {\n  router.push('/register')\n}\n</script>\n<style lang=\"less\" scoped>\n// @-webkit-keyframes fadenum {\n//   0% {\n//     opacity: 0;\n//   }\n\n//   100% {\n//     opacity: 1;\n//   }\n// }\n\n.login {\n  height: 100%;\n\n  .bgp {\n    height: 100%;\n    // background-image: url(\"../assets/bj.jpeg\");\n    background-repeat: no-repeat;\n    background-size: 100%;\n    background-position: 50% 50%;\n  }\n\n  .el-icon {\n    height: 30px !important;\n  }\n\n  .login_container {\n    // animation: fadenum 1s ease;\n    position: absolute;\n    z-index: 1;\n    width: 400px;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    transition: all 1s;\n    min-height: 273px;\n    text-align: center;\n    background-color: #fff;\n    border-radius: 10px;\n    padding: 20px;\n\n    h1 {\n      font-size: 24px;\n      transition: all 1s;\n      font-weight: bold;\n      margin-bottom: 36px;\n    }\n\n    .el-card {\n      border-radius: 20px;\n    }\n\n    .login_form {\n      .login_submit {\n        width: 100%;\n        height: 50px;\n        border-radius: 20px;\n        margin-bottom: 10px;\n      }\n\n      .login_register {\n        width: 70%;\n        font-size: 0.875rem;\n        margin: 0 auto;\n      }\n\n      :deep(.el-input-group__prepend) {\n        padding: 0 10px;\n      }\n    }\n  }\n}\n</style>\n","import script from \"./Login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Login.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=2b9a9ed8&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/tianqiwei/Projects/course/courseproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2b9a9ed8\"]])\n\nexport default __exports__"],"names":["ref_form","ref","userInfo","reactive","userName","password","rules","required","trigger","message","min","max","onLogin","value","validate","val","getLoginData","async","res","getLogin","name","code","indexof","router","ElMessage","type","token","localStorage","setItem","toGo","__exports__"],"sourceRoot":""}