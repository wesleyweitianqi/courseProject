"use strict";(self["webpackChunkcourseproject"]=self["webpackChunkcourseproject"]||[]).push([[301],{8301:function(e,s,a){a.r(s),a.d(s,{default:function(){return _}});a(7658);var r=a(3396),o=a(9242),t=a(1120),l=a(7178),n=a(4870),u=a(7877);const m=e=>((0,r.dD)("data-v-2b9a9ed8"),e=e(),(0,r.Cn)(),e),p={class:"login"},d=m((()=>(0,r._)("div",{class:"bgp"},null,-1))),i={class:"login_container"},c=m((()=>(0,r._)("h1",null,"Course Management System",-1)));var g={__name:"Login",setup(e){const s=(0,n.iH)(null),a=(0,n.qj)({userName:"",password:""}),m={userName:[{required:!0,trigger:"blur",message:"username cannot be empty"}],password:[{required:!0,trigger:"blur",message:"password cannot be empty"},{min:3,max:6,trigger:"blur",message:"password length between 3-6"}]},g=()=>{s.value.validate((e=>{e&&w()}))},w=async()=>{const e=await(0,u.t2)({name:a.userName,password:a.password});1===e?.code&&e?.message.indexof("account not exist")>=0&&(t.Z.push("/register"),(0,l.z8)({message:e.message,type:"warning"})),e?.token&&(localStorage.setItem("token",e?.token),(0,l.z8)({message:"login successfully",type:"success"}),t.Z.push("/home"))},f=()=>{t.Z.push("/register")};return(e,t)=>{const l=(0,r.up)("User"),n=(0,r.up)("el-icon"),u=(0,r.up)("el-input"),w=(0,r.up)("el-form-item"),_=(0,r.up)("Key"),y=(0,r.up)("el-button"),b=(0,r.up)("el-form");return(0,r.wg)(),(0,r.iD)("div",p,[d,(0,r._)("div",i,[c,(0,r.Wm)(b,{class:"login_form",model:a,rules:m,onKeyup:(0,o.D2)(g,["enter"]),ref_key:"ref_form",ref:s},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{prop:"userName"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{type:"text",placeholder:"Please enter username",modelValue:a.userName,"onUpdate:modelValue":t[0]||(t[0]=e=>a.userName=e),modelModifiers:{trim:!0},autocomplete:"off"},{prepend:(0,r.w5)((()=>[(0,r.Wm)(n,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.Wm)(w,{prop:"password"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{type:"password",placeholder:"Please enter password",modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),modelModifiers:{trim:!0},autocomplete:"new-password"},{prepend:(0,r.w5)((()=>[(0,r.Wm)(n,null,{default:(0,r.w5)((()=>[(0,r.Wm)(_)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.Wm)(y,{type:"primary",class:"login_submit",onClick:g},{default:(0,r.w5)((()=>[(0,r.Uk)("Login")])),_:1}),(0,r._)("div",{class:"login_register",onClick:f},"Register")])),_:1},8,["model","onKeyup"])])])}}},w=a(89);const f=(0,w.Z)(g,[["__scopeId","data-v-2b9a9ed8"]]);var _=f}}]);
//# sourceMappingURL=301.c9442b78.js.map